(this.webpackJsonpSayHey=this.webpackJsonpSayHey||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n.n(c),s=n(16),o=n.n(s),i=(n(66),n(32)),l=(n(67),n(40)),d=n.n(l),u=n(55),j=n(57),f=n(42),h=n(31),b=n(60),g=n(59),v=n(37),p=n(38),O=n(58),m=n(41),x=n(54);function w(e){return Object(a.jsx)("div",{className:"messagePadding",children:e.message})}function y(){var e=[{id:-1,message:"Hey"}],t=Object(i.useIndexedDB)("presets"),n=t.add,r=t.getAll,s=t.deleteRecord,o=Object(c.useState)(),l=Object(f.a)(o,2),y=l[0],k=l[1],S=Object(c.useState)(""),B=Object(f.a)(S,2),N=B[0],C=B[1],P=Object(c.useState)(e),A=Object(f.a)(P,2),W=A[0],D=A[1];Object(c.useEffect)((function(){(function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:n=t.sent,console.log("records found in DB, udpating state: ",n),D([].concat(e,Object(u.a)(n)));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var H=Object(c.useState)(!1),I=Object(f.a)(H,2),M=I[0],T=I[1],L=function(){return T(!1)};function E(){return(E=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({message:N});case 3:t=e.sent,console.log("Added to db: ",{id:t,message:N}),D((function(e){return[].concat(Object(u.a)(e),[{id:t,message:N}])})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:L();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{children:[Object(a.jsxs)(h.a,{bg:"l",variant:"light",fixed:"top",children:[Object(a.jsx)(h.a.Brand,{children:"sayHey"}),Object(a.jsx)(b.a,{className:"mr-auto",children:Object(a.jsxs)(O.a,{id:"dropdown-item-button",title:"Presets",children:[Object(a.jsx)(p.a.Item,{onClick:function(){return T(!0)},type:"text",as:"button",children:"Add Preset +"}),Object(a.jsxs)(m.a,{show:M,onHide:L,children:[Object(a.jsx)(m.a.Header,{closeButton:!0,children:Object(a.jsx)(m.a.Title,{children:"Add Preset"})}),Object(a.jsx)(m.a.Body,{children:Object(a.jsxs)(x.a,{className:"mb-3",children:[Object(a.jsx)(v.a,{onChange:function(e){C(e.target.value)},value:this,placeholder:"Message","aria-label":"Message Preset","aria-describedby":"basic-addon2"}),Object(a.jsx)(x.a.Append,{children:Object(a.jsx)(x.a.Text,{onClick:function(){return E.apply(this,arguments)},id:"basic-addon2",children:"Save"})})]})})]}),W.map((function(e){var t=e.id,n=e.message;return Object(a.jsxs)(p.a.Item,{onClick:function(){return k(n)},value:n,type:"text",as:"button",children:[n,Object(a.jsx)("a",{onClick:function(){!function(e){s(e).then((function(){alert("Deleted ".concat(e))})),D((function(t){var n=Object(u.a)(t),a=n.findIndex((function(t){return t.id===e}));return n.splice(a,1),n}))}(t)},className:"deleteBtn",as:"button",children:"x"})]},n)}))]})}),Object(a.jsx)(g.a,{inline:!0,children:Object(a.jsx)(v.a,{name:"message",type:"text",placeholder:"Message",value:y,onChange:function(e){e.preventDefault(),k(e.target.value),console.log(e.target.value)},className:"mr-sm-2"})})]}),Object(a.jsx)("div",{className:"buffer"}),Object(a.jsx)("div",{className:"content justify-content-center row",children:Object(a.jsx)(w,{message:y})})]})}function k(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)(h.a,{className:"justify-content-center",fixed:"bottom",children:Object(a.jsx)(h.a.Brand,{href:"#home",children:Object(a.jsx)("a",{className:"footerLink",rel:"noreferrer",target:"_blank",href:"https://zachyanez.com",children:"By Zach Yanez"})})})})}Object(i.initDB)({name:"SayHeyDB",version:1,objectStoresMeta:[{store:"presets",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{Message:"message",keypath:"message",options:{unique:!0}}]}]});var S=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(y,{}),Object(a.jsx)(k,{})]})},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(73);o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):N(t,e)}))}}(),C()}},[[74,1,2]]]);
//# sourceMappingURL=main.a5c5575c.chunk.js.map